

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by colddoc on {ts '2011-08-20 11:37:54'} -->
<TITLE>
Callable
</TITLE>

<META NAME="keywords" CONTENT="cfmongodb.core.concurrent.Callable interface">



<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="DBCollection";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">




<!-- ========= START OF NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
	
	<TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
	
	<TD BGCOLOR="##EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  
		<TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
	

  

  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
CFMongoDB</EM>

</TD>
</TR>

<TR>

<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
	
	  <A HREF="../../index.html?cfmongodb/core/DBCollection.html" target="_top"><B>FRAMES</B></A>  &nbsp;
	
</FONT></TD>

</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
cfmongodb.core</FONT>
<BR>
Class DBCollection</H2>



<PRE>WEB-INF.cftags.component
        <IMG SRC="../../resources/inherit.gif" ALT="extended by ">cfmongodb.core.DBCollection
</PRE>



<HR>
<DL>
<DT>



<PRE>public class <B>DBCollection</B>
<DT>extends WEB-INF.cftags.component</DT></PRE>
</DT>
</DL>



<HR>

<p>


	<!-- ======== CONSTRUCTOR SUMMARY ======== -->

	<A NAME="constructor_summary"><!-- --></A>
	<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
	<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
	<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
	<B>Constructor Summary</B></FONT></TH>
	</TR>
	<TR BGCOLOR="white" CLASS="TableRowColor">
	
	<TD>
		<CODE><B><A HREF="DBCollection.html#init()">init</A></B>([any collectionName], [any mongo])</CODE>
	<BR>
	
		
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Not intended to be invoked directly 
	</TD>
	</TR>
	</TABLE>
	&nbsp;

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>


<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;any</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#GETMONGOUTIL()">GETMONGOUTIL</A></B>()</CODE>
<BR>

</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#SETMONGOUTIL()">SETMONGOUTIL</A></B>(any mongoUtil)</CODE>
<BR>

</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;any</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#count()">count</A></B>([struct criteria='[runtime expression]'])</CODE>
<BR>

</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;any</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#distinct()">distinct</A></B>([string key], [struct query])</CODE>
<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Runs mongodb's distinct() command 
</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;any</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#drop()">drop</A></B>()</CODE>
<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;drops this collection 
</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;array</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#dropIndexes()">dropIndexes</A></B>()</CODE>
<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Drops all indexes from the collection 
</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;array</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#ensureGeoIndex()">ensureGeoIndex</A></B>([any field], [any min=''], [any max=''])</CODE>
<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ensures a "2d" index on a single field 
</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;array</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#ensureIndex()">ensureIndex</A></B>([array fields], [any unique='false'])</CODE>
<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The array of fields can either be a) an array of field names 
</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;any</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#find()">find</A></B>([struct criteria='[runtime expression]'], [string keys=''], [numeric skip='0'], [numeric limit='0'], [any sort='[runtime expression]'])</CODE>
<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Find documents matching the given criteria 
</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;any</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#findAndModify()">findAndModify</A></B>([struct query], [struct fields], [struct sort], [boolean remove='false'], [struct update], [boolean returnNew='true'], [boolean upsert='false'])</CODE>
<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;findAndModify is critical for queue-like operations 
</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;any</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#findById()">findById</A></B>([any id])</CODE>
<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a single document matching the passed in id (i 
</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;struct</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#findOne()">findOne</A></B>([struct criteria='[runtime expression]'])</CODE>
<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Find a single document matching the given criteria 
</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;array</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#getIndexes()">getIndexes</A></B>()</CODE>
<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an array with information about all of the indexes for the collection 
</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private&nbsp;any</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#getMongoDB()">getMongoDB</A></B>()</CODE>
<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the underlying Java driver's DB object 
</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;any</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#getMongoDBCollection()">getMongoDBCollection</A></B>()</CODE>
<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the underlying Java driver's DBCollection object for the given collection 
</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;any</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#group()">group</A></B>([any keys], [any initial], [any reduce], [any query], [any keyf=''], [any finalize=''])</CODE>
<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Executes Mongo's group() command 
</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;any</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#insert()">insert</A></B>([struct doc])</CODE>
<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inserts a struct into the collection 
</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;any</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#mapReduce()">mapReduce</A></B>([any map], [any reduce], [any outputTarget], [any outputType='REPLACE'], [any query], [any options])</CODE>
<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Executes Mongo's mapReduce command 
</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;any</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#query()">query</A></B>()</CODE>
<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Build a query object, and then execute that query using find() Query returns a SearchBuilder object, which you'll call functions on 
</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;any</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#remove()">remove</A></B>([any doc])</CODE>
<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove one or more documents from the collection 
</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;any</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#removeById()">removeById</A></B>([any id])</CODE>
<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Convenience for removing a document from the collection by the String representation of its ObjectId collection 
</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;any</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#save()">save</A></B>([struct doc])</CODE>
<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Saves a struct into the collection; Returns the newly-saved Document's _id; populates the struct with that _id person = {name="bill", badmofo=true}; collection 
</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;any</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#saveAll()">saveAll</A></B>([array docs])</CODE>
<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Saves an array of structs into the collection 
</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private&nbsp;any</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#toCF()">toCF</A></B>([any dbObject])</CODE>
<BR>

</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private&nbsp;any</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#toMongo()">toMongo</A></B>([any doc])</CODE>
<BR>

</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private&nbsp;any</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#toMongoOperation()">toMongoOperation</A></B>([any doc])</CODE>
<BR>

</TD>
</TR>

<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;any</CODE></FONT></TD>
<TD><CODE><B><A HREF="DBCollection.html#update()">update</A></B>([any doc], [any query], [any upsert='false'], [any multi='false'])</CODE>
<BR>


&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updates a document in the collection 
</TD>
</TR>

</TR>
</TABLE>



	&nbsp;
	<a name="methods_inherited_from_class_WEB-INF.cftags.component"><!-- --></a>
	<table summary="" border="1" cellpadding="3" cellspacing="0" width="100%">
	<tbody><tr class="TableSubHeadingColor" bgcolor="#eeeeff">
	<th align="left"><b>Methods inherited from class WEB-INF.cftags.component</b></th>
	</tr>
	<tr class="TableRowColor" bgcolor="white">
	<td>
		

		<code></code>
	</td>
	</tr>
	</tbody></table>


&nbsp;
<P>



<!-- ========= CONSTRUCTOR DETAIL ======== -->

<a name="constructor_detail"><!-- --></a>
</p><table summary="" border="1" cellpadding="3" cellspacing="0" width="100%">
<tbody><tr class="TableHeadingColor" bgcolor="#ccccff">
<th colspan="1" align="left"><font size="+2">
<b>Constructor Detail</b></font></th>
</tr>
</tbody></table>

<a name="init()"><!-- --></a><h3>

init</h3>
<CODE>public <B>init</B>([any collectionName], [any mongo])</CODE>
<dl>
<dd>
Not intended to be invoked directly. Always fetch DBCollection objects via mongo.getDBCollection( collectionName ) 
<p>
</p>

<dl>
<dt><b>Parameters:</b></dt>

<dd><code>collectionName</code></dd>

<dd><code>mongo</code></dd>

</dl>


</dd></dl>



<!-- ============ METHOD DETAIL ========== -->

<a name="method_detail"><!-- --></a>
<table summary="" border="1" cellpadding="3" cellspacing="0" width="100%">
<tbody><tr class="TableHeadingColor" bgcolor="#ccccff">
<th colspan="1" align="left"><font size="+2">
<b>Method Detail</b></font></th>
</tr>
</tbody></table>

	<a name="GETMONGOUTIL()"><!-- --></a><h3>
	GETMONGOUTIL</h3>
	<code>public any <B>GETMONGOUTIL</B>()</code>

	<dl>
	<dd>
	
	<p>
	</p></dd>

	

	</dd>
	</dl>
	<hr>

	<a name="SETMONGOUTIL()"><!-- --></a><h3>
	SETMONGOUTIL</h3>
	<code>public void <B>SETMONGOUTIL</B>(any mongoUtil)</code>

	<dl>
	<dd>
	
	<p>
	</p></dd>

	
	<dl>
	<dt><b>Parameters:</b></dt>
	
	<dd><code>mongoUtil</code></dd>
	
	</dl>
	

	</dd>
	</dl>
	<hr>

	<a name="count()"><!-- --></a><h3>
	count</h3>
	<code>public any <B>count</B>([struct criteria='[runtime expression]'])</code>

	<dl>
	<dd>
	
	<p>
	</p></dd>

	
	<dl>
	<dt><b>Parameters:</b></dt>
	
	<dd><code>criteria</code></dd>
	
	</dl>
	

	</dd>
	</dl>
	<hr>

	<a name="distinct()"><!-- --></a><h3>
	distinct</h3>
	<code>public any <B>distinct</B>([string key], [struct query])</code>

	<dl>
	<dd>
	Runs mongodb's distinct() command. Returns an array of distinct values  distinctAges = collection.distinct( "KIDS.AGE" ); use query to filter results collection.distinct( "KIDS.AGE", {GENDER="MALE"} ) 
	<p>
	</p></dd>

	
	<dl>
	<dt><b>Parameters:</b></dt>
	
	<dd><code>key</code></dd>
	
	<dd><code>query</code></dd>
	
	</dl>
	

	</dd>
	</dl>
	<hr>

	<a name="drop()"><!-- --></a><h3>
	drop</h3>
	<code>public any <B>drop</B>()</code>

	<dl>
	<dd>
	drops this collection 
	<p>
	</p></dd>

	

	</dd>
	</dl>
	<hr>

	<a name="dropIndexes()"><!-- --></a><h3>
	dropIndexes</h3>
	<code>public array <B>dropIndexes</B>()</code>

	<dl>
	<dd>
	Drops all indexes from the collection 
	<p>
	</p></dd>

	

	</dd>
	</dl>
	<hr>

	<a name="ensureGeoIndex()"><!-- --></a><h3>
	ensureGeoIndex</h3>
	<code>public array <B>ensureGeoIndex</B>([any field], [any min=''], [any max=''])</code>

	<dl>
	<dd>
	Ensures a "2d" index on a single field. If another 2d index exists on the same collection, this will error 
	<p>
	</p></dd>

	
	<dl>
	<dt><b>Parameters:</b></dt>
	
	<dd><code>field</code></dd>
	
	<dd><code>min</code></dd>
	
	<dd><code>max</code></dd>
	
	</dl>
	

	</dd>
	</dl>
	<hr>

	<a name="ensureIndex()"><!-- --></a><h3>
	ensureIndex</h3>
	<code>public array <B>ensureIndex</B>([array fields], [any unique='false'])</code>

	<dl>
	<dd>
	The array of fields can either be a) an array of field names. The sort direction will be "1" b) an array of structs in the form of fieldname=direction. Eg: [ {lastname=1}, {dob=-1} ] 
	<p>
	</p></dd>

	
	<dl>
	<dt><b>Parameters:</b></dt>
	
	<dd><code>fields</code></dd>
	
	<dd><code>unique</code></dd>
	
	</dl>
	

	</dd>
	</dl>
	<hr>

	<a name="find()"><!-- --></a><h3>
	find</h3>
	<code>public any <B>find</B>([struct criteria='[runtime expression]'], [string keys=''], [numeric skip='0'], [numeric limit='0'], [any sort='[runtime expression]'])</code>

	<dl>
	<dd>
	Find documents matching the given criteria. Returns a SearchResult object. usage: sort = {"NAME" = -1}; result = collection.find( criteria={"AGE" = {"$gt"=18}}, limit="5", sort=sort ); writeDump( var=result.asArray(), label="For query #result.getQuery().toString()# with sort #result.getSort().toString()#, returning #result.size()# of #result.totalCount()# documents" ); 
	<p>
	</p></dd>

	
	<dl>
	<dt><b>Parameters:</b></dt>
	
	<dd><code>criteria</code></dd>
	
	<dd><code>keys</code></dd>
	
	<dd><code>skip</code></dd>
	
	<dd><code>limit</code></dd>
	
	<dd><code>sort</code></dd>
	
	</dl>
	

	</dd>
	</dl>
	<hr>

	<a name="findAndModify()"><!-- --></a><h3>
	findAndModify</h3>
	<code>public any <B>findAndModify</B>([struct query], [struct fields], [struct sort], [boolean remove='false'], [struct update], [boolean returnNew='true'], [boolean upsert='false'])</code>

	<dl>
	<dd>
	findAndModify is critical for queue-like operations. Its atomicity removes the traditional need to synchronize higher-level methods to ensure queue elements only get processed once. http://www.mongodb.org/display/DOCS/findandmodify+Command Your "update" doc must apply one of MongoDB's update modifiers (http://www.mongodb.org/display/DOCS/Updating#Updating-update%28%29), otherwise the found document will be overwritten with the "update" argument, and that is probably not what you want. 
	<p>
	</p></dd>

	
	<dl>
	<dt><b>Parameters:</b></dt>
	
	<dd><code>query</code></dd>
	
	<dd><code>fields</code></dd>
	
	<dd><code>sort</code></dd>
	
	<dd><code>remove</code></dd>
	
	<dd><code>update</code></dd>
	
	<dd><code>returnNew</code></dd>
	
	<dd><code>upsert</code></dd>
	
	</dl>
	

	</dd>
	</dl>
	<hr>

	<a name="findById()"><!-- --></a><h3>
	findById</h3>
	<code>public any <B>findById</B>([any id])</code>

	<dl>
	<dd>
	Returns a single document matching the passed in id (i.e. the mongo _id) usage: byID = collection.findById( url.personId ); 
	<p>
	</p></dd>

	
	<dl>
	<dt><b>Parameters:</b></dt>
	
	<dd><code>id</code></dd>
	
	</dl>
	

	</dd>
	</dl>
	<hr>

	<a name="findOne()"><!-- --></a><h3>
	findOne</h3>
	<code>public struct <B>findOne</B>([struct criteria='[runtime expression]'])</code>

	<dl>
	<dd>
	Find a single document matching the given criteria. usage: doc = collection.findOne( {"age" = 18} ); 
	<p>
	</p></dd>

	
	<dl>
	<dt><b>Parameters:</b></dt>
	
	<dd><code>criteria</code></dd>
	
	</dl>
	

	</dd>
	</dl>
	<hr>

	<a name="getIndexes()"><!-- --></a><h3>
	getIndexes</h3>
	<code>public array <B>getIndexes</B>()</code>

	<dl>
	<dd>
	Returns an array with information about all of the indexes for the collection 
	<p>
	</p></dd>

	

	</dd>
	</dl>
	<hr>

	<a name="getMongoDB()"><!-- --></a><h3>
	getMongoDB</h3>
	<code>private any <B>getMongoDB</B>()</code>

	<dl>
	<dd>
	Get the underlying Java driver's DB object 
	<p>
	</p></dd>

	

	</dd>
	</dl>
	<hr>

	<a name="getMongoDBCollection()"><!-- --></a><h3>
	getMongoDBCollection</h3>
	<code>public any <B>getMongoDBCollection</B>()</code>

	<dl>
	<dd>
	Get the underlying Java driver's DBCollection object for the given collection 
	<p>
	</p></dd>

	

	</dd>
	</dl>
	<hr>

	<a name="group()"><!-- --></a><h3>
	group</h3>
	<code>public any <B>group</B>([any keys], [any initial], [any reduce], [any query], [any keyf=''], [any finalize=''])</code>

	<dl>
	<dd>
	Executes Mongo's group() command. Returns an array of structs. usage, including optional 'query': result = collection.group( "STATUS,OWNER", {TOTAL=0}, "function(obj,agg){ agg.TOTAL++; }, {SOMENUM = {"$gt" = 5}}" ); See examples/aggregation/group.cfm for detail 
	<p>
	</p></dd>

	
	<dl>
	<dt><b>Parameters:</b></dt>
	
	<dd><code>keys</code></dd>
	
	<dd><code>initial</code></dd>
	
	<dd><code>reduce</code></dd>
	
	<dd><code>query</code></dd>
	
	<dd><code>keyf</code></dd>
	
	<dd><code>finalize</code></dd>
	
	</dl>
	

	</dd>
	</dl>
	<hr>

	<a name="insert()"><!-- --></a><h3>
	insert</h3>
	<code>public any <B>insert</B>([struct doc])</code>

	<dl>
	<dd>
	Inserts a struct into the collection 
	<p>
	</p></dd>

	
	<dl>
	<dt><b>Parameters:</b></dt>
	
	<dd><code>doc</code></dd>
	
	</dl>
	

	</dd>
	</dl>
	<hr>

	<a name="mapReduce()"><!-- --></a><h3>
	mapReduce</h3>
	<code>public any <B>mapReduce</B>([any map], [any reduce], [any outputTarget], [any outputType='REPLACE'], [any query], [any options])</code>

	<dl>
	<dd>
	Executes Mongo's mapReduce command. Returns a MapReduceResult object basic usage: result = collection.mapReduce( map=map, reduce=reduce, outputTarget="YourResultsCollection" ); See examples/aggregation/mapReduce for detail 
	<p>
	</p></dd>

	
	<dl>
	<dt><b>Parameters:</b></dt>
	
	<dd><code>map</code></dd>
	
	<dd><code>reduce</code></dd>
	
	<dd><code>outputTarget</code></dd>
	
	<dd><code>outputType</code></dd>
	
	<dd><code>query</code></dd>
	
	<dd><code>options</code></dd>
	
	</dl>
	

	</dd>
	</dl>
	<hr>

	<a name="query()"><!-- --></a><h3>
	query</h3>
	<code>public any <B>query</B>()</code>

	<dl>
	<dd>
	Build a query object, and then execute that query using find() Query returns a SearchBuilder object, which you'll call functions on. Finally, you'll use various "execution" functions on the SearchBuilder to get a SearchResult object, which provides useful functions for working with your results. sort = {"NAME" = -1}; kidSearch = collection.query().between("KIDS.AGE", 2, 30).find( keys="", skip=0, limit=0, sort=sort ); writeDump( var=kidSearch.asArray(), label="For query #kidSearch.getQuery().toString()# with sort #kidSearch.getSort().toString()#, returning #kidSearch.size()# of #kidSearch.totalCount()# documents" ); See gettingstarted.cfm for many examples 
	<p>
	</p></dd>

	

	</dd>
	</dl>
	<hr>

	<a name="remove()"><!-- --></a><h3>
	remove</h3>
	<code>public any <B>remove</B>([any doc])</code>

	<dl>
	<dd>
	Remove one or more documents from the collection. If the document has an "_id", this will remove that single document by its _id. Otherwise, "doc" is treated as a "criteria" object. For example, if doc is {STATUS="complete"}, then all documents matching that criteria would be removed. pass an empty struct to remove everything from the collection: collection.remove( {} ); 
	<p>
	</p></dd>

	
	<dl>
	<dt><b>Parameters:</b></dt>
	
	<dd><code>doc</code></dd>
	
	</dl>
	

	</dd>
	</dl>
	<hr>

	<a name="removeById()"><!-- --></a><h3>
	removeById</h3>
	<code>public any <B>removeById</B>([any id])</code>

	<dl>
	<dd>
	Convenience for removing a document from the collection by the String representation of its ObjectId collection.removeById( url.id ); 
	<p>
	</p></dd>

	
	<dl>
	<dt><b>Parameters:</b></dt>
	
	<dd><code>id</code></dd>
	
	</dl>
	

	</dd>
	</dl>
	<hr>

	<a name="save()"><!-- --></a><h3>
	save</h3>
	<code>public any <B>save</B>([struct doc])</code>

	<dl>
	<dd>
	Saves a struct into the collection; Returns the newly-saved Document's _id; populates the struct with that _id person = {name="bill", badmofo=true}; collection.save( person ); 
	<p>
	</p></dd>

	
	<dl>
	<dt><b>Parameters:</b></dt>
	
	<dd><code>doc</code></dd>
	
	</dl>
	

	</dd>
	</dl>
	<hr>

	<a name="saveAll()"><!-- --></a><h3>
	saveAll</h3>
	<code>public any <B>saveAll</B>([array docs])</code>

	<dl>
	<dd>
	Saves an array of structs into the collection. Can also save an array of pre-created CFBasicDBObjects people = [{name="bill", badmofo=true}, {name="marc", badmofo=true}]; collection.saveAll( people ); 
	<p>
	</p></dd>

	
	<dl>
	<dt><b>Parameters:</b></dt>
	
	<dd><code>docs</code></dd>
	
	</dl>
	

	</dd>
	</dl>
	<hr>

	<a name="toCF()"><!-- --></a><h3>
	toCF</h3>
	<code>private any <B>toCF</B>([any dbObject])</code>

	<dl>
	<dd>
	
	<p>
	</p></dd>

	
	<dl>
	<dt><b>Parameters:</b></dt>
	
	<dd><code>dbObject</code></dd>
	
	</dl>
	

	</dd>
	</dl>
	<hr>

	<a name="toMongo()"><!-- --></a><h3>
	toMongo</h3>
	<code>private any <B>toMongo</B>([any doc])</code>

	<dl>
	<dd>
	
	<p>
	</p></dd>

	
	<dl>
	<dt><b>Parameters:</b></dt>
	
	<dd><code>doc</code></dd>
	
	</dl>
	

	</dd>
	</dl>
	<hr>

	<a name="toMongoOperation()"><!-- --></a><h3>
	toMongoOperation</h3>
	<code>private any <B>toMongoOperation</B>([any doc])</code>

	<dl>
	<dd>
	
	<p>
	</p></dd>

	
	<dl>
	<dt><b>Parameters:</b></dt>
	
	<dd><code>doc</code></dd>
	
	</dl>
	

	</dd>
	</dl>
	<hr>

	<a name="update()"><!-- --></a><h3>
	update</h3>
	<code>public any <B>update</B>([any doc], [any query], [any upsert='false'], [any multi='false'])</code>

	<dl>
	<dd>
	Updates a document in the collection. NOTE: This function signature *differs* from the mongo shell signature in one important way: mongo shell: update( query, doc, upsert, multi ) cfmongodb:   update( doc, query, upsert, multi ) The reason is that this enables more ColdFusion-idiomatic updating, in that we can pass in a single document argument without using named parameters. For example: The "doc" argument will either be an existing Mongo document to be updated based on its _id, or it will be a document that will be "applied" to any documents that match the "query" argument To update a single existing document, simply pass that document and update() will update the document by its _id, overwriting the existing document with the doc argument: person = person.findById(url.id); person.something = "something else"; collection.update( person ); To update a document by a criteria query and have the "doc" argument applied to a single found instance: update =  { "set" = {STATUS = "running"} }; query = {STATUS = "pending"}; collection.update( update, query ); To update multiple documents by a criteria query and have the "doc" argument applied to all matching instances, pass multi=true collection.update( update, query, false, false ) Pass upsert=true to create a document if no documents are found that match the query criteria 
	<p>
	</p></dd>

	
	<dl>
	<dt><b>Parameters:</b></dt>
	
	<dd><code>doc</code></dd>
	
	<dd><code>query</code></dd>
	
	<dd><code>upsert</code></dd>
	
	<dd><code>multi</code></dd>
	
	</dl>
	

	</dd>
	</dl>
	<hr>


<!-- ========= START OF NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
	
	<TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
	
	<TD BGCOLOR="##EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  
		<TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
	

  

  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
CFMongoDB</EM>

</TD>
</TR>

<TR>

<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
	
	  <A HREF="../../index.html?cfmongodb/core/DBCollection.html" target="_top"><B>FRAMES</B></A>  &nbsp;
	
</FONT></TD>

</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF NAVBAR ========= -->

<HR>

</BODY>
</HTML>
